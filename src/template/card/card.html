<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="card.css">
</head>

<body>
    <div class="container" id="scroll-card">
        <div class="card-container" style="left: 0px;" id="c0">
            <div class="card pic-card">
                <div class="pic-box">
                    <img src="../../assets/lost.jpg">
                </div>
            </div>
            <div class="detail-card card">
                <h1>救救孩子</h1>
                <p>我还记得那一天，在繁华的闹市中，熙熙攘攘的人群并没有阻隔你的身影。</p>
                <p>我发现了你，看到了你的眸，清亮。嗅到了你的发，清香。我在想:或许这就是命运的安排吧，一面之缘，仿佛让我遇到了生命中一直在等待的狗子。我在深情凝视，把温柔的目光定格在你的眼睛里，希望能擦出爱情的火花。可是任凭命运的前行，我们只能这样擦肩而过。罢了罢了，就让我们相忘于江湖吧。
                </p>
            </div>
            <div class="tips">向下滚动查看更多</div>
            <div class="ticket">
                <div class="flight">
                    Flight<br>to<br>SZ
                </div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
                <div class="lou"></div>
            </div>
        </div>
        <div class="card-container" id="c1">
            <div class="card pic-card">
                <div class="pic-box">
                    <img src="../../assets/lost.jpg">
                </div>
            </div>
            <div class="detail-card card">
                <h1>救救孩子</h1>
                <p>我还记得那一天，在繁华的闹市中，熙熙攘攘的人群并没有阻隔你的身影。</p>
                <p>我发现了你，看到了你的眸，清亮。嗅到了你的发，清香。我在想:或许这就是命运的安排吧，一面之缘，仿佛让我遇到了生命中一直在等待的狗子。我在深情凝视，把温柔的目光定格在你的眼睛里，希望能擦出爱情的火花。可是任凭命运的前行，我们只能这样擦肩而过。罢了罢了，就让我们相忘于江湖吧。
                </p>
            </div>
        </div>
    </div>
</body>

<script style="display: none;">
    var curleft = -767 + 90;
    var scrollable = false;
    function scrollFunc(e) {
        if (scrollable) {   // 绝了 我咋这么聪明
            if (e.wheelDelta > 50 && curleft > -767 + 90) { //当滑轮向上滚动时 卡片内移
                container.style.left = (curleft - 50) + "px"
                curleft -= 50;
            }
            if (e.wheelDelta < 50) { //当滑轮向下滚动时 卡片外移 
                container.style.left = (curleft + 50) + "px"
                curleft += 50;
            }
        }
    }
    var doc = document;
    var container = doc.getElementById("scroll-card")               // 卡片容器
    var containers = doc.getElementsByClassName("card-container")   // 卡片数组
    doc.addEventListener("DOMMouseScroll", scrollFunc, false);
    window.onmousewheel = document.onmousewheel = scrollFunc;
    for (let i = 0; i <= containers.length - 1; i++) {
        containers[i].onmousemove = function () {
            scrollable = true;
            window.parent.postMessage("noscroll", '*');     // 父组件停下
        }
        containers[i].onmouseleave = function () {
            scrollable = false;
            window.parent.postMessage("scroallable", '*');  // 父组件动
        }
    }
</script>

</html>